<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>DIMS</title><link>https://octopusdims.github.io/</link><description>Recent content on DIMS</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Sat, 28 Feb 2026 19:00:00 +0800</lastBuildDate><atom:link href="https://octopusdims.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title/><link>https://octopusdims.github.io/moments/2026-02-28-back-to-school/</link><pubDate>Sat, 28 Feb 2026 19:00:00 +0800</pubDate><guid>https://octopusdims.github.io/moments/2026-02-28-back-to-school/</guid><description>&lt;p&gt;è¦å›å­¦æ ¡äº†ï¼Œæ–°å­¦æœŸè¦åŠ æ²¹&lt;/p&gt;</description></item><item><title/><link>https://octopusdims.github.io/moments/2026-02-25-vibecoding-thoughts/</link><pubDate>Wed, 25 Feb 2026 22:58:00 +0800</pubDate><guid>https://octopusdims.github.io/moments/2026-02-25-vibecoding-thoughts/</guid><description>&lt;p&gt;vibecodingå¥½çˆ½ï¼Œä½†æ˜¯æ„Ÿè§‰å¯¹ä¸ªäººèƒ½åŠ›çš„æå‡æœ‰é™&lt;/p&gt;
&lt;p&gt;æœ‰ç‚¹åƒå¼€åˆ›é€ æ¨¡å¼å“ˆå“ˆğŸ˜‚&lt;/p&gt;</description></item><item><title/><link>https://octopusdims.github.io/moments/2026-02-23-ye-huo/</link><pubDate>Mon, 23 Feb 2026 19:00:00 +0800</pubDate><guid>https://octopusdims.github.io/moments/2026-02-23-ye-huo/</guid><description>&lt;p&gt;æ„Ÿè§‰æœ‰è‚¡é‡ç«ğŸ”¥ğŸ”¥åœ¨ä½ èº«ä½“é‡Œç‡ƒçƒ§â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥
æŠŠæˆ‘ç¼ ç»•ğŸ¥ºğŸ¥ºå¸¦æˆ‘ç¦»å¼€è¿™ä¸ªåœ°æ–¹ğŸƒğŸƒâ€â™€ï¸&lt;/p&gt;</description></item><item><title>ICS_PA4 å®éªŒæŠ¥å‘Š</title><link>https://octopusdims.github.io/2026/02/09/ics_pa4-%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</link><pubDate>Mon, 09 Feb 2026 22:45:00 +0000</pubDate><guid>https://octopusdims.github.io/2026/02/09/ics_pa4-%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</guid><description>&lt;h2 id="å®éªŒè¿›åº¦"&gt;å®éªŒè¿›åº¦&lt;/h2&gt;
&lt;p&gt;æˆ‘å·²å®Œæˆ PA4 çš„&lt;strong&gt;æ‰€æœ‰å¿…åšå†…å®¹&lt;/strong&gt;ï¼ˆè™šå®äº¤é”™çš„é­”æ³•ã€åˆ†æ—¶å¤šä»»åŠ¡ï¼‰ï¼ŒæˆåŠŸå®ç°äº†åˆ†é¡µæœºåˆ¶ã€è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå¹¶èƒ½å¤Ÿè®©&lt;strong&gt;ä»™å‰‘å¥‡ä¾ ä¼ &lt;/strong&gt;å’Œ &lt;strong&gt;Hello&lt;/strong&gt; ç¨‹åºåŒæ—¶åœ¨ Nanos-lite ä¸Šåˆ†æ—¶è¿è¡Œã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="å¿…ç­”é¢˜"&gt;å¿…ç­”é¢˜&lt;/h2&gt;
&lt;h3 id="åˆ†æ—¶å¤šä»»åŠ¡çš„å…·ä½“è¿‡ç¨‹"&gt;åˆ†æ—¶å¤šä»»åŠ¡çš„å…·ä½“è¿‡ç¨‹&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;é—®é¢˜ï¼š&lt;/strong&gt; è¯·ç»“åˆä»£ç , è§£é‡Šåˆ†é¡µæœºåˆ¶å’Œç¡¬ä»¶ä¸­æ–­æ˜¯å¦‚ä½•æ”¯æ’‘ä»™å‰‘å¥‡ä¾ ä¼ å’Œhelloç¨‹åºåœ¨æˆ‘ä»¬çš„è®¡ç®—æœºç³»ç»Ÿ(Nanos-lite, AM, NEMU)ä¸­åˆ†æ—¶è¿è¡Œçš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸€è¿‡ç¨‹æ˜¯&lt;strong&gt;æ—¶é’Ÿä¸­æ–­é©±åŠ¨&lt;/strong&gt;ä¸&lt;strong&gt;è™šæ‹Ÿå†…å­˜éš”ç¦»&lt;/strong&gt;å…±åŒä½œç”¨çš„ç»“æœã€‚æˆ‘ä»¬å¯ä»¥å°†å…¶æ‹†è§£ä¸ºä»¥ä¸‹å‡ ä¸ªå…³é”®æ­¥éª¤ï¼š&lt;/p&gt;
&lt;h4 id="åˆå§‹å‡†å¤‡ä¸åŠ è½½"&gt;åˆå§‹å‡†å¤‡ä¸åŠ è½½&lt;/h4&gt;
&lt;p&gt;åœ¨ &lt;code&gt;init_proc()&lt;/code&gt; ä¸­ï¼ˆ&lt;code&gt;nanos-lite/src/proc.c:34-60&lt;/code&gt;ï¼‰ï¼ŒNanos-lite åŠ è½½äº†ä»™å‰‘å¥‡ä¾ ä¼ ã€Helloã€Menu å’Œ Nterm å››ä¸ªç¨‹åºã€‚&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-c" data-lang="c"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// pcb[0]: hello 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;context_kload&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;pcb&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;hello_fun&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;hello&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// pcb[1]: ä»™å‰‘å¥‡ä¾ ä¼  (PAL)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;argv_pal&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;/bin/pal&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;--skip&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;char&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;envp_pal&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;PATH=/bin&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nb"&gt;NULL&lt;/span&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nf"&gt;context_uload&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;&amp;amp;&lt;/span&gt;&lt;span class="n"&gt;pcb&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;/bin/pal&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;argv_pal&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;envp_pal&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;è™šæ‹Ÿåœ°å€ç©ºé—´åˆ›å»ºï¼š&lt;/strong&gt; &lt;code&gt;context_uload&lt;/code&gt; è°ƒç”¨ &lt;code&gt;protect()&lt;/code&gt;ï¼ˆ&lt;code&gt;am/src/riscv/nemu/vme.c:47-54&lt;/code&gt;ï¼‰ï¼Œä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ç‹¬ç«‹çš„é¡µç›®å½•è¡¨ï¼ˆPage Directoryï¼‰å¹¶å¤åˆ¶å†…æ ¸é¡µè¡¨æ˜ å°„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä»£ç åŠ è½½ï¼š&lt;/strong&gt; Loaderï¼ˆ&lt;code&gt;nanos-lite/src/loader.c:49-100&lt;/code&gt;ï¼‰å°† ELF æ–‡ä»¶åŠ è½½åˆ°å„è‡ªè™šæ‹Ÿåœ°å€ç©ºé—´ã€‚é€šè¿‡ &lt;code&gt;map()&lt;/code&gt; å‡½æ•°å»ºç«‹è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†é¡µå¸§çš„æ˜ å°„ï¼Œç¡®ä¿ä¸åŒè¿›ç¨‹çš„è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°ä¸åŒçš„ç‰©ç†å†…å­˜é¡µã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ä¸­æ–­è§¦å‘-the-trigger"&gt;ä¸­æ–­è§¦å‘ (The Trigger)&lt;/h4&gt;
&lt;p&gt;å½“ä»™å‰‘å¥‡ä¾ ä¼ æ­£åœ¨ CPU ä¸Šè¿è¡Œæ—¶ï¼ŒNEMU çš„æ—¶é’Ÿè®¾å¤‡å®šæœŸäº§ç”Ÿä¸­æ–­ä¿¡å·ï¼ˆ&lt;code&gt;mcause = 0x80000007&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ç¡¬ä»¶å“åº”ï¼š&lt;/strong&gt; ç¡¬ä»¶æ£€æµ‹åˆ°ä¸­æ–­ï¼Œä¿å­˜å½“å‰ PC åˆ° &lt;code&gt;mepc&lt;/code&gt;ï¼Œè®¾ç½® &lt;code&gt;mcause&lt;/code&gt;ï¼Œå¹¶è·³è½¬åˆ° &lt;code&gt;__am_asm_trap&lt;/code&gt;ï¼ˆä½äº &lt;code&gt;am/src/riscv/nemu/trap.S:44&lt;/code&gt;ï¼‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id="ä¿å­˜ç°åœº-context-saving"&gt;ä¿å­˜ç°åœº (Context Saving)&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;trap.S&lt;/code&gt;ï¼ˆ&lt;code&gt;am/src/riscv/nemu/trap.S:44-94&lt;/code&gt;ï¼‰å°†ä»™å‰‘å¥‡ä¾ ä¼ å½“å‰çš„é€šç”¨å¯„å­˜å™¨ã€CSR å¯„å­˜å™¨ï¼ˆåŒ…æ‹¬ &lt;code&gt;mstatus&lt;/code&gt;, &lt;code&gt;mepc&lt;/code&gt; ç­‰ï¼‰å‹å…¥å½“å‰è¿›ç¨‹çš„å†…æ ¸æ ˆä¸­ï¼Œå½¢æˆä¸€ä¸ª &lt;code&gt;Context&lt;/code&gt; ç»“æ„ä½“ã€‚&lt;/p&gt;</description></item><item><title>ICS_PA3 å®éªŒæŠ¥å‘Š</title><link>https://octopusdims.github.io/2025/12/12/ics_pa3-%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</link><pubDate>Fri, 12 Dec 2025 13:16:23 +0000</pubDate><guid>https://octopusdims.github.io/2025/12/12/ics_pa3-%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</guid><description>&lt;h2 id="å®éªŒè¿›åº¦"&gt;å®éªŒè¿›åº¦&lt;/h2&gt;
&lt;p&gt;æˆ‘å·²å®Œæˆ PA3 çš„&lt;strong&gt;æ‰€æœ‰å†…å®¹&lt;/strong&gt;ï¼Œå¹¶é€šè¿‡äº†&lt;strong&gt;æ‰€æœ‰çš„æµ‹è¯•æ ·ä¾‹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="å¿…ç­”é¢˜"&gt;å¿…ç­”é¢˜&lt;/h2&gt;
&lt;h3 id="ç†è§£ä¸Šä¸‹æ–‡ç»“æ„ä½“çš„å‰ä¸–ä»Šç”Ÿ"&gt;ç†è§£ä¸Šä¸‹æ–‡ç»“æ„ä½“çš„å‰ä¸–ä»Šç”Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;é—®é¢˜ï¼š&lt;/strong&gt; ä½ ä¼šåœ¨&lt;code&gt;__am_irq_handle()&lt;/code&gt;ä¸­çœ‹åˆ°æœ‰ä¸€ä¸ªä¸Šä¸‹æ–‡ç»“æ„æŒ‡é’ˆ&lt;code&gt;c&lt;/code&gt;, &lt;code&gt;c&lt;/code&gt;æŒ‡å‘çš„ä¸Šä¸‹æ–‡ç»“æ„ç©¶ç«Ÿåœ¨å“ªé‡Œ? è¿™ä¸ªä¸Šä¸‹æ–‡ç»“æ„åˆæ˜¯æ€ä¹ˆæ¥çš„? å…·ä½“åœ°, è¿™ä¸ªä¸Šä¸‹æ–‡ç»“æ„æœ‰å¾ˆå¤šæˆå‘˜, æ¯ä¸€ä¸ªæˆå‘˜ç©¶ç«Ÿåœ¨å“ªé‡Œèµ‹å€¼çš„? &lt;code&gt;$ISA-nemu.h&lt;/code&gt;, &lt;code&gt;trap.S&lt;/code&gt;, ä¸Šè¿°è®²ä¹‰æ–‡å­—, ä»¥åŠä½ åˆšåˆšåœ¨NEMUä¸­å®ç°çš„æ–°æŒ‡ä»¤, è¿™å››éƒ¨åˆ†å†…å®¹åˆæœ‰ä»€ä¹ˆè”ç³»?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-c" data-lang="c"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="n"&gt;Context&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// TODO: fix the order of these members to match trap.S
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;uintptr_t&lt;/span&gt; &lt;span class="n"&gt;gpr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;NR_REGS&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;uintptr_t&lt;/span&gt; &lt;span class="n"&gt;mcause&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;uintptr_t&lt;/span&gt; &lt;span class="n"&gt;mstatus&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;uintptr_t&lt;/span&gt; &lt;span class="n"&gt;mepc&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;pdir&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr&gt;
&lt;h4 id="ä¸Šä¸‹æ–‡ç»“æ„-c-çš„ä½ç½®å’Œæ¥æº"&gt;ä¸Šä¸‹æ–‡ç»“æ„ $c$ çš„ä½ç½®å’Œæ¥æº&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;ä¸Šä¸‹æ–‡ç»“æ„ $c$ æŒ‡å‘çš„ç»“æ„ä½“å®ä¾‹ä¿å­˜åœ¨&lt;strong&gt;å½“å‰çº¿ç¨‹çš„å†…æ ¸æ ˆä¸Š&lt;/strong&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å®ƒæ˜¯ç”± NEMU çš„ä¸­æ–­/å¼‚å¸¸å¤„ç†æ±‡ç¼–å…¥å£æ–‡ä»¶ &lt;strong&gt;&lt;code&gt;trap.S&lt;/code&gt;&lt;/strong&gt; åœ¨ä¸­æ–­/å¼‚å¸¸å‘ç”Ÿæ—¶ï¼Œé€šè¿‡ä¸€ç³»åˆ—æ±‡ç¼–æŒ‡ä»¤ï¼ˆä¸»è¦æ˜¯å‹æ ˆæ“ä½œï¼‰åœ¨æ ˆä¸ŠåŠ¨æ€åˆ›å»ºçš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;h4 id="ä¸Šä¸‹æ–‡ç»“æ„æˆå‘˜çš„èµ‹å€¼ä½ç½®"&gt;ä¸Šä¸‹æ–‡ç»“æ„æˆå‘˜çš„èµ‹å€¼ä½ç½®&lt;/h4&gt;
&lt;p&gt;æ‰€æœ‰æˆå‘˜çš„èµ‹å€¼éƒ½å‘ç”Ÿåœ¨ &lt;strong&gt;&lt;code&gt;trap.S&lt;/code&gt;&lt;/strong&gt; æ–‡ä»¶ä¸­ï¼š&lt;/p&gt;
&lt;h5 id="21-é€šç”¨å¯„å­˜å™¨-gprnr_regs"&gt;2.1. é€šç”¨å¯„å­˜å™¨ (&lt;code&gt;gpr[NR_REGS]&lt;/code&gt;)&lt;/h5&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;èµ‹å€¼ä½ç½®ï¼š&lt;/strong&gt; &lt;code&gt;trap.S&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;èµ‹å€¼æ–¹å¼ï¼š&lt;/strong&gt; é€šè¿‡ä¸€ç³»åˆ— &lt;code&gt;sw&lt;/code&gt; (store word) æˆ– &lt;code&gt;sd&lt;/code&gt; (store doubleword) æŒ‡ä»¤ï¼ˆå–å†³äº $32/64$ ä½ï¼‰ï¼Œå°†é€šç”¨å¯„å­˜å™¨ $x1$ åˆ° $x31$ï¼ˆ$x0$ å¯„å­˜å™¨ä¸º $0$ï¼Œé€šå¸¸ä¸éœ€ä¿å­˜æˆ–ä»¥ $0$ å ä½ï¼‰çš„å€¼ä¾æ¬¡å‹å…¥æ ˆä¸­ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å…³é”®ç‚¹ï¼š&lt;/strong&gt; è¿™æ˜¯ä¿å­˜ç°åœºçš„ç¬¬ä¸€æ­¥ï¼Œå ç”¨ $Context$ ç»“æ„ä½“ä¸­æœ€å¤§çš„è¿ç»­å†…å­˜å—ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h5 id="22-ç‰¹æƒç³»ç»Ÿå¯„å­˜å™¨-mcause-mstatus-mepc"&gt;2.2. ç‰¹æƒ/ç³»ç»Ÿå¯„å­˜å™¨ (&lt;code&gt;mcause&lt;/code&gt;, &lt;code&gt;mstatus&lt;/code&gt;, &lt;code&gt;mepc&lt;/code&gt;)&lt;/h5&gt;
&lt;p&gt;è¿™ä¸‰ä¸ªå¯„å­˜å™¨æ˜¯ RISC-V å¼‚å¸¸å¤„ç†çš„æ ¸å¿ƒï¼Œå®ƒä»¬ç”±ç¡¬ä»¶å’Œè½¯ä»¶ååŒèµ‹å€¼ï¼š&lt;/p&gt;</description></item><item><title>ICS_PA2 å®éªŒæŠ¥å‘Š</title><link>https://octopusdims.github.io/2025/11/11/ics_pa2-%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</link><pubDate>Tue, 11 Nov 2025 14:58:52 +0000</pubDate><guid>https://octopusdims.github.io/2025/11/11/ics_pa2-%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</guid><description>&lt;h2 id="å®éªŒè¿›åº¦"&gt;å®éªŒè¿›åº¦&lt;/h2&gt;
&lt;p&gt;æˆ‘å·²å®Œæˆ PA2 çš„&lt;strong&gt;æ‰€æœ‰å†…å®¹&lt;/strong&gt;ï¼Œå¹¶é€šè¿‡äº†&lt;strong&gt;æ‰€æœ‰çš„æµ‹è¯•æ ·ä¾‹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="å¿…ç­”é¢˜"&gt;å¿…ç­”é¢˜&lt;/h2&gt;
&lt;h3 id="ä¸åœè®¡ç®—çš„æœºå™¨"&gt;ä¸åœè®¡ç®—çš„æœºå™¨&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-C" data-lang="C"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;stdint.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#include&lt;/span&gt; &lt;span class="cpf"&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#define NREG 4
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#define NMEM 16
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// å®šä¹‰æŒ‡ä»¤æ ¼å¼
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="k"&gt;typedef&lt;/span&gt; &lt;span class="k"&gt;union&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="kt"&gt;uint8_t&lt;/span&gt; &lt;span class="nl"&gt;rs&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nl"&gt;rt&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nl"&gt;op&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;rtype&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;struct&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="kt"&gt;uint8_t&lt;/span&gt; &lt;span class="nl"&gt;addr&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nl"&gt;op&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="n"&gt;mtype&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;uint8_t&lt;/span&gt; &lt;span class="n"&gt;inst&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="kt"&gt;inst_t&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#define DECODE_R(inst) uint8_t rt = (inst).rtype.rt, rs = (inst).rtype.rs
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;#define DECODE_M(inst) uint8_t addr = (inst).mtype.addr
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;uint8_t&lt;/span&gt; &lt;span class="n"&gt;pc&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// PC, Cè¯­è¨€ä¸­æ²¡æœ‰4ä½çš„æ•°æ®ç±»å‹, æˆ‘ä»¬é‡‡ç”¨8ä½ç±»å‹æ¥è¡¨ç¤º
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;uint8_t&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;NREG&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{};&lt;/span&gt; &lt;span class="c1"&gt;// å¯„å­˜å™¨
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;uint8_t&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;NMEM&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="c1"&gt;// å†…å­˜, å…¶ä¸­åŒ…å«ä¸€ä¸ªè®¡ç®—z = x + yçš„ç¨‹åº
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;b11100110&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// load 6# | R[0] &amp;lt;- M[y]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;b00000100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// mov r1, r0 | R[1] &amp;lt;- R[0]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;b11100101&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// load 5# | R[0] &amp;lt;- M[x]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;b00010001&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// add r0, r1 | R[0] &amp;lt;- R[0] + R[1]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;b11110111&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// store 7# | M[z] &amp;lt;- R[0]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;b00010000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// x = 16
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;b00100001&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// y = 33
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;b00000000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="c1"&gt;// z = 0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;halt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// ç»“æŸæ ‡å¿—
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="c1"&gt;// æ‰§è¡Œä¸€æ¡æŒ‡ä»¤
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;exec_once&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kt"&gt;inst_t&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;inst&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;pc&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt; &lt;span class="c1"&gt;// å–æŒ‡
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rtype&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;op&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="c1"&gt;// æ“ä½œç è¯‘ç  æ“ä½œæ•°è¯‘ç  æ‰§è¡Œ
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="nl"&gt;b0000&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nf"&gt;DECODE_R&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;rt&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt; &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="nl"&gt;b0001&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nf"&gt;DECODE_R&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;rt&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;rs&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt; &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="nl"&gt;b1110&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nf"&gt;DECODE_M&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;addr&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt; &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="nl"&gt;b1111&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nf"&gt;DECODE_M&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;addr&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;];&lt;/span&gt; &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;default&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nf"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;Invalid instruction with opcode = %x, halting...&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rtype&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;op&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;halt&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;pc&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="c1"&gt;// æ›´æ–°PC
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;while&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nf"&gt;exec_once&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;halt&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nf"&gt;printf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;The result of 16 + 33 is %d&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;M&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;é—®é¢˜ï¼š&lt;/strong&gt; ç”»å‡ºåœ¨YEMUä¸Šæ‰§è¡Œçš„åŠ æ³•ç¨‹åºçš„çŠ¶æ€æœº&lt;/p&gt;</description></item><item><title>ICS_PA1 å®éªŒæŠ¥å‘Š</title><link>https://octopusdims.github.io/2025/09/24/ics_pa1-%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</link><pubDate>Wed, 24 Sep 2025 19:04:44 +0000</pubDate><guid>https://octopusdims.github.io/2025/09/24/ics_pa1-%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</guid><description>&lt;h2 id="å®éªŒè¿›åº¦"&gt;å®éªŒè¿›åº¦&lt;/h2&gt;
&lt;p&gt;æˆ‘å·²å®Œæˆ PA1 çš„&lt;strong&gt;æ‰€æœ‰å†…å®¹&lt;/strong&gt;ï¼Œå¹¶é€šè¿‡äº†&lt;strong&gt;æ‰€æœ‰çš„æµ‹è¯•æ ·ä¾‹&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id="å¿…ç­”é¢˜"&gt;å¿…ç­”é¢˜&lt;/h2&gt;
&lt;h3 id="ç¨‹åºæ˜¯ä¸ªçŠ¶æ€æœº"&gt;ç¨‹åºæ˜¯ä¸ªçŠ¶æ€æœº&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;é—®é¢˜ï¼š&lt;/strong&gt; ç”»å‡ºè®¡ç®— 1+2+&amp;hellip;+100 çš„ç¨‹åºçš„çŠ¶æ€æœºã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Solution:&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-fallback" data-lang="fallback"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;// PC: instruction | // label: statement
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;0: mov r1, 0 | pc0: r1 = 0;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;1: mov r2, 0 | pc1: r2 = 0;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;2: addi r2, r2 , 1 | pc2: r2 = r2 + 1;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;3: add r1, r1 , r2 | pc3: r1 = r1 + r2;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;4: cmp r2 100 | pc4: compare r2 with 100;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;5: jl 2 | pc5: if r2 &amp;lt; 100, jump to pc2
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¨‹åºçš„çŠ¶æ€æœºå¦‚ä¸‹ï¼š&lt;/p&gt;</description></item><item><title>About</title><link>https://octopusdims.github.io/about/</link><pubDate>Wed, 01 Jan 2025 00:00:00 +0800</pubDate><guid>https://octopusdims.github.io/about/</guid><description>&lt;h1 id="about-me"&gt;About Me&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;NJUğŸ™&lt;/strong&gt;&lt;/p&gt;</description></item><item><title>Archives</title><link>https://octopusdims.github.io/archives/</link><pubDate>Wed, 01 Jan 2025 00:00:00 +0800</pubDate><guid>https://octopusdims.github.io/archives/</guid><description/></item><item><title>Gallery</title><link>https://octopusdims.github.io/gallery/</link><pubDate>Wed, 01 Jan 2025 00:00:00 +0800</pubDate><guid>https://octopusdims.github.io/gallery/</guid><description/></item></channel></rss>